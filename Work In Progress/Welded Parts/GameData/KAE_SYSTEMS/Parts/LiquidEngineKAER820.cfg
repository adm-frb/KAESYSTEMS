// LiquidEngineKAE820.cfg
// KAE SYSTEMS
// created: 21-05-2020
// updated: 24-05-2020
PART
{
	name = LiquidEngineKAER820
	module = Part
	author = adm-frb

	rescaleFactor = 1	

	MODEL
  	{
    		model = ReStock/Assets/FuelTank/restock-fueltank-1875-3
		position = 0.0,0.0,0.0
		rotation = 0.0,0.0,0.0
		scale = 1,1,1
  	}
  	MODULE
  	{
    		name = ModulePartVariants
    		useMultipleDragCubes = false
    		baseVariant = Grey
    		VARIANT
    		{
      			name = White
      			displayName = #autoLOC_8007122
      			themeName = BlackAndWhite
      			primaryColor = #ffffff
      			secondaryColor = #000000
      			GAMEOBJECTS
      			{
      				Tank1875Small =true
    				Tank1875SmallGrey = false
  				Tank1875SmallOrange = false
      			}
    		}
    		VARIANT
    		{
      			name = Grey
      			displayName = #autoLOC_8007119
      			themeName = White
      			primaryColor = #ffffff
      			secondaryColor = #ffffff
      			GAMEOBJECTS
      			{
      				Tank1875Small = false
      				Tank1875SmallGrey = true
      				Tank1875SmallOrange = false
      			}
    		}
    		VARIANT
    		{
      			name = Dark Grey
      			displayName = #autoLOC_8007121
      			themeName = GrayAndOrange
      			primaryColor = #4c4f47
      			secondaryColor = #f49841
      			GAMEOBJECTS
      			{
      				Tank1875Small =false
      				Tank1875SmallGrey = false
      				Tank1875SmallOrange = true
      			}
    		}
  	}
	MODEL
  	{
    		model = ReStockPlus/Assets/Structural/restock-adapter-1875-125-1
		position = 0,-0.52,0
		rotation = 180,0,0
		scale = 1,1,1
  	}
	MODULE
  	{
    		name = ModulePartVariants
    		baseVariant = WhiteBottom
		useMultipleDragCubes = false
    		VARIANT
    		{
      			name = BlackAndWhiteBottom
      			displayName = #autoLOC_8007122
      			themeName = BlackAndWhite
      			primaryColor = #ffffff
      			secondaryColor = #000000
      			GAMEOBJECTS
      			{
        			FlatAdapterGrey = true
        			FlatAdapterWhite = false
        			FlatAdapterMetal = false
        			FlatAdapterOrange = false
      			}
    		}
    		VARIANT
    		{
      			name = WhiteBottom
      			displayName = #autoLOC_8007119
      			themeName = White
      			primaryColor = #ffffff
      			secondaryColor = #ffffff
      			GAMEOBJECTS
      			{
        			FlatAdapterGrey = false
        			FlatAdapterWhite = true
        			FlatAdapterMetal = false
        			FlatAdapterOrange = false
      			}
    		}
    		VARIANT
    		{
      			name = OrangeBottom
      			displayName = #autoLOC_8007123
      			themeName = Orange
      			primaryColor = #f49841
      			secondaryColor = #f49841
      			GAMEOBJECTS
      			{
        			FlatAdapterGrey = false
        			FlatAdapterWhite = false
        			FlatAdapterMetal = false
        			FlatAdapterOrange = true
      			}
    		}
    		VARIANT
    		{
      			name = MetalBottom
      			displayName = #LOC_Restock_variant-surface_metal
      			themeName = Metal
      			primaryColor = #6f6e6d
      			secondaryColor = #6f6e6d
      			GAMEOBJECTS
      			{
        			FlatAdapterGrey = false
        			FlatAdapterWhite = false
        			FlatAdapterMetal = true
        			FlatAdapterOrange = false
			}
		}
	}
	MODEL
  	{
    		model = ReStock/Assets/Engine/restock-engine-poodle-1
    		position = 0,-0.175,0
    		scale = 0.8,0.8,0.8
    		rotation = 0, 0, 0
 	}
  	MODULE
  	{
    		name = ModulePartVariants
    		baseVariant = Compact
    		useMultipleDragCubes = false
    		VARIANT
    		{
      			name = Size2
      			displayName = #LOC_Restock_variant-engine_size2_white
      			primaryColor = #999999
      			secondaryColor = #ffffff
      			GAMEOBJECTS
      			{
        			Poodle_25 = false
        			Poodle_Compact = true
        			P_Cyl_Lower001 = false
        			P_Cyl_Lower002 = false
        			P_Cyl_Lower003 = false
        			P_Cyl_Lower004 = false
        			P_CylCpt_Lower001 = true
        			P_CylCpt_Lower002 = true
        			P_CylCpt_Lower003 = true
        			P_CylCpt_Lower004 = true
        			ShroudOrange = false
        			ShroudWhite = false
      			}
    		}
    		VARIANT
    		{
      			name = Compact
      			displayName = #LOC_Restock_variant-engine_compact_white
      			primaryColor = #999999
      			secondaryColor = #ffffff
      			GAMEOBJECTS
      			{
        			Poodle_25 = false
        			Poodle_Compact = true
        			P_Cyl_Lower001 = false
        			P_Cyl_Lower002 = false
        			P_Cyl_Lower003 = false
        			P_Cyl_Lower004 = false
        			P_CylCpt_Lower001 = true
        			P_CylCpt_Lower002 = true
        			P_CylCpt_Lower003 = true
        			P_CylCpt_Lower004 = true
        			ShroudOrange = false
        			ShroudWhite = false
      			}
    		}
    		VARIANT
    		{
      			name = Size2_Alternate
      			displayName = #LOC_Restock_variant-engine_size2_grey-orange
      			primaryColor = #999999
      			secondaryColor = #ffffff
      			GAMEOBJECTS
      			{
        			Poodle_25 = false
        			Poodle_Compact = true
        			P_Cyl_Lower001 = false
        			P_Cyl_Lower002 = false
        			P_Cyl_Lower003 = false
        			P_Cyl_Lower004 = false
        			P_CylCpt_Lower001 = true
        			P_CylCpt_Lower002 = true
        			P_CylCpt_Lower003 = true
        			P_CylCpt_Lower004 = true
        			ShroudOrange = false
        			ShroudWhite = false
      			}
    		}
    		VARIANT
    		{
      			name = Compact_Alternate
      			displayName = #LOC_Restock_variant-engine_compact_grey-orange
      			primaryColor = #999999
      			secondaryColor = #ffffff
      			GAMEOBJECTS
      			{
        			Poodle_25 = false
        			Poodle_Compact = true
        			P_Cyl_Lower001 = false
        			P_Cyl_Lower002 = false
        			P_Cyl_Lower003 = false
        			P_Cyl_Lower004 = false
        			P_CylCpt_Lower001 = true
        			P_CylCpt_Lower002 = true
        			P_CylCpt_Lower003 = true
        			P_CylCpt_Lower004 = true
        			ShroudOrange = false
        			ShroudWhite = false
      			}
    		}
	}

	node_stack_top = 0.0, 0.46875, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -2.0, 0.0, 0.0, -1.0, 0.0, 2
	node_attach = 0.9375, 0.0, 0.0, 1.0, 0.0, 0.0, 2

	TechRequired = heavierRocketry
	entryCost = 40000
	cost = 4400
	category = Engine
	subcategory = 0
	title = KAE-R820 "Polar" Liquid Fueled Engine
	manufacturer = KAE Systems
	description = When KAE Systems made the decision to develop their own rocket engine, they began looking around, and found what appeared to be a used engine with four nozzles that appeared to have fallen off a Krussian rocket. Taking it apart, our engineers quickly got to work on building a better more powerful engine. Instead of steering through the use of gimbals, it uses reaction wheels to steer.
	attachRules =  1,1,1,1,1
	mass = 3.11
	
	tags = #autoLOC_8310070 //#autoLOC_8310070 = fueltank ?lfo liquid oxidizer propellant rocket (polar
	
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	
	crashTolerance = 7
	breakingForce = 175
	breakingTorque = 175
	
	maxTemp = 2000 // = 3000
	heatConductivity = 0.06 
	skinInternalConductionMult = 4.0

	fuelCrossFeed = True
	bulkheadProfiles = size1p5
	
	MODULE
	{
		name = ModuleEngines
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 960
		heatProduction = 83
		fxOffset = 0, 0, 0.4
		EngineType = LiquidFuel
		exhaustDamageDistanceOffset = 1.75
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
		}
		atmosphereCurve
		{
			key = 0 310
			key = 1 260
			key = 3 0.001
		}
	}
	MODULE
	{
		name = ModuleJettison
		jettisonName = Shroud
		bottomNodeName = bottom
		isFairing = True
		jettisonedObjectMass = 0.5
		jettisonForce = 15
		jettisonDirection = 0 0 1
	}

	MODULE
	{
		name = ModuleReactionWheel
		PitchTorque = 15
		YawTorque = 15
		RollTorque = 15
		torqueResponseSpeed = 15
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.45
		}
	}
	MODULE
	{
		name = FXModuleLookAtConstraint
		CONSTRAINLOOKFX
		{
			targetName = HiCyl1
			rotatorsName = LowCyl1
		}
		CONSTRAINLOOKFX
		{
			targetName = HiCyl2
			rotatorsName = LowCyl2
		}
		CONSTRAINLOOKFX
		{
			targetName = HiCyl3
			rotatorsName = LowCyl3
		}
		CONSTRAINLOOKFX
		{
			targetName = HiCyl4
			rotatorsName = LowCyl4
		}
		CONSTRAINLOOKFX
		{
			targetName = LowCyl1
			rotatorsName = HiCyl1
		}
		CONSTRAINLOOKFX
		{
			targetName = LowCyl2
			rotatorsName = HiCyl2
		}	
		CONSTRAINLOOKFX
		{
			targetName = LowCyl3
			rotatorsName = HiCyl3
		}
		CONSTRAINLOOKFX
		{
			targetName = LowCyl4
			rotatorsName = HiCyl4
		}	
	}			
	MODULE
	{
		name = FXModuleAnimateThrottle
		animationName = PoodleThrottle
		responseSpeed = 0.001
		dependOnEngineState = True
		dependOnThrottle = True
	}
	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = 8.0
		}
	}
	MODULE
	{
		name = ModuleTestSubject
		useStaging = True
		useEvent = True
		situationMask = 127
		CONSTRAINT
		{
			type = REPEATABILITY
			value = ALWAYS
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = REPEATABILITY
			value = BODYANDSITUATION
			prestige = Significant
		}
		CONSTRAINT
		{
			type = REPEATABILITY
			value = ONCEPERPART
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = GT
			value = 4000
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = LT
			value = 8000
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = GT
			value = 2000
			prestige = Significant
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = LT
			value = 4000
			prestige = Significant
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = GT
			value = 1000
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = LT
			value = 2000
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = GT
			value = 0 // this just registers altitude as something to care about
			situationMask = 8
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = LT
			value = 300000
			situationMask = 16
			body = _NotSun
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = LT
			value = 600000
			situationMask = 32
			body = _NotSun
		}
		CONSTRAINT
		{
			type = SPEED
			test = GT
			value = 0
			situationMask = 8
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = SPEED
			test = LT
			value = 600
			situationMask = 8
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = SPEED
			test = GT
			value = 300
			situationMask = 8
			prestige = Significant
		}
		CONSTRAINT
		{
			type = SPEED
			test = LT
			value = 1200
			situationMask = 8
			prestige = Significant
		}
		CONSTRAINT
		{
			type = SPEED
			test = GT
			value = 600
			situationMask = 8
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = SPEED
			test = LT
			value = 2500
			situationMask = 8
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = LT
			value = 200
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = GT
			value = 100
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = LT
			value = 100
			prestige = Significant
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = GT
			value = 50
			prestige = Significant
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = LT
			value = 50
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = GT
			value = 20
			prestige = Exceptional
		}
	}
	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 0
		fxMax = 0.6
		maxDistance = 30
		falloff = 1.5
		thrustTransformName = thrustTransform
	}
	!EFFECTS {}
  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_medium
        volume = 1.0
        pitch = 1.0
        loop = false
      }
    }
    flameout
    {
      PREFAB_PARTICLE
      {
        prefabName = fx_exhaustSparks_flameout_2
        transformName = smokePoint
        oneShot = true
      }
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-poodle-running
    {
      AUDIO
      {
        channel = Ship
        clip = sound_rocket_hard
        volume = 0.0 0.0
        volume = 0.01 0.2
        volume = 1.0 0.6
        pitch = 0.0 0.1
        pitch = 0.01 0.2
        pitch = 1.0 0.5
        loop = true
      }
      MODEL_MULTI_PARTICLE
      {
        name = plume
        modelName= ReStock/FX/restock-fx-poodle-plume-1
        transformName = fxTransformPlume
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      MODEL_MULTI_PARTICLE
      {
        name = coreA
        modelName = ReStock/FX/restock-fx-poodle-core-1
        transformName = fxTransformCore
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_veryLarge
        transformName = smokePoint
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
        localOffset = 0, 0, 1
      }
    }
  }
}	