// PhoebusSM.cfg v1.0.0.3
// KAE SYSTEMS
// created: 2020 03 07
// updated: 2020 03 09 

PART
{
	name = WELDPhoebusSM
	module = Part
	author = adm-frb

	MODEL
	{
		model = ReStockPlus/Assets/Structural/restock-adapter-1875-25-1
		position = 0,1.125,0
		rotation = 180,0,0
	}
  	MODULE
  	{
    		name = ModulePartVariants
    		baseVariant = Metal
    		useMultipleDragCubes = false
    		VARIANT
    		{
      			name = BlackAndWhite
      			displayName = #autoLOC_8007122
      			themeName = BlackAndWhite
      			primaryColor = #ffffff
      			secondaryColor = #000000
      			GAMEOBJECTS
      			{
        			FlatAdapterGreyLarge = true
        			FlatAdapterWhiteLarge = false
        			FlatAdapterMetalLarge = false
        			FlatAdapterOrangeLarge = false
      			}
    		}
    		VARIANT
    		{
      			name = White
      			displayName = #autoLOC_8007119
      			themeName = White
      			primaryColor = #ffffff
      			secondaryColor = #ffffff
      			GAMEOBJECTS
      			{
        			FlatAdapterGreyLarge = false
        			FlatAdapterWhiteLarge = true
        			FlatAdapterMetalLarge = false
        			FlatAdapterOrangeLarge = false
      			}
    		}
    		VARIANT
    		{
      			name = Orange
      			displayName = #autoLOC_8007123
      			themeName = Orange
      			primaryColor = #f49841
      			secondaryColor = #f49841
      			GAMEOBJECTS
      			{
        			FlatAdapterGreyLarge = false
        			FlatAdapterWhiteLarge = false
        			FlatAdapterMetalLarge = false
        			FlatAdapterOrangeLarge = true
      			}
    		}
    		VARIANT
    		{
      			name = Metal
      			displayName = #LOC_Restock_variant-surface_metal
      			themeName = Metal
      			primaryColor = #6f6e6d
      			secondaryColor = #6f6e6d
      			GAMEOBJECTS
      			{
        			FlatAdapterGreyLarge = false
        			FlatAdapterWhiteLarge = false
        			FlatAdapterMetalLarge = true
        			FlatAdapterOrangeLarge = false
      			}
    		}
	}
	
	MODEL
	{
		model = Bluedog_DB/Parts/Centaur/bluedog_CentaurT_ShortTank
		position = 0,0.665,0
		rotation = 0,0,0,1
	}
	
	MODEL
	{
		model = Bluedog_DB/Parts/Centaur/bluedog_CentaurT_WideTank
		position = 0,0,0
		rotation = 180,0.0,0,0	
		scale = 0.75,0.75,0.75
	}
	
	MODEL
	{
		model = ReStockPlus/Assets/Structural/restock-adapter-1875-125-1
		position = 0,-0.275,0
		rotation = 180,0,0
	}
	MODULE
  	{
    		name = ModulePartVariants
    		baseVariant = MetalBottom
		useMultipleDragCubes = false
    		VARIANT
    		{
      			name = BlackAndWhiteBottom
      			displayName = #autoLOC_8007122
      			themeName = BlackAndWhite
      			primaryColor = #ffffff
      			secondaryColor = #000000
      			GAMEOBJECTS
      			{
        			FlatAdapterGrey = true
        			FlatAdapterWhite = false
        			FlatAdapterMetal = false
        			FlatAdapterOrange = false
      			}
    		}
    		VARIANT
    		{
      			name = WhiteBottom
      			displayName = #autoLOC_8007119
      			themeName = White
      			primaryColor = #ffffff
      			secondaryColor = #ffffff
      			GAMEOBJECTS
      			{
        			FlatAdapterGrey = false
        			FlatAdapterWhite = true
        			FlatAdapterMetal = false
        			FlatAdapterOrange = false
      			}
    		}
    		VARIANT
    		{
      			name = OrangeBottom
      			displayName = #autoLOC_8007123
      			themeName = Orange
      			primaryColor = #f49841
      			secondaryColor = #f49841
      			GAMEOBJECTS
      			{
        			FlatAdapterGrey = false
        			FlatAdapterWhite = false
        			FlatAdapterMetal = false
        			FlatAdapterOrange = true
      			}
    		}
    		VARIANT
    		{
      			name = MetalBottom
      			displayName = #LOC_Restock_variant-surface_metal
      			themeName = Metal
      			primaryColor = #6f6e6d
      			secondaryColor = #6f6e6d
      			GAMEOBJECTS
      			{
        			FlatAdapterGrey = false
        			FlatAdapterWhite = false
        			FlatAdapterMetal = true
        			FlatAdapterOrange = false
			}
		}
	}

  	MODEL
	{
		model = Bluedog_DB/Parts/Engines/bluedog_E1
		position = -0.0,-0.5,0.0
		rotation = 0,0,0,1
	}
	
	rescaleFactor = 1

	
	TechRequired = advRocketry
	entryCost = 1550
	cost = 160
	category = Engine // FuelTank
	subcategory = 0
	title = Phoebus Service Module
	manufacturer = KAE Systems
	description = Warrenty void during reentry
	tags = Fuel Tank LFO Liquid Oxidizer Monopropellant Service Module 
	attachRules = 1,0,1,1,0
	mass = 0.25

	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 2

	crashTolerance = 9
	breakingForce = 250
	breakingTorque = 250

	maxTemp = 2600 
	thermalMassModifier = 2.0
	skinMassPerArea = 4.0
	skinInternalConductionMult = 0.25
	// heatConductivity = 0.06 // half default
	emissiveConstant = 0.8

	fuelCrossFeed = True
	bulkheadProfiles = size1, size1p5, srf
	explosionPotential = 0.5

	stageOffset = 1
	childStageOffset = 1
	inverseStageCarryover = false
	
	node_stack_top = 0.0, 1.146, 0.0, 0.0, 1.0, 0.0, 1
	node_stack_bottom = 0.0, -1.4, 0.0, 0.0, -1.0, 0.0, 1
	


	EFFECTS
	{
		running_engine
		{
			AUDIO
			{
				channel = Ship
				clip = Bluedog_DB/Sounds/KW/sound_altloop2
				volume = 0.0 0.0
				volume = 0.01 0.1
				volume = 1.0 1.3
				pitch = 0.0 1
				pitch = 1.0 1
				loop = true
			}

			MODEL_MULTI_PARTICLE
			{
				name = flare
				modelName = Bluedog_DB/FX/PlumeParty/Engines/Tundra/keroSLFlare1
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.01 0.1
				emission = 1.0 2.0
				speed = 0.0 0.5
				speed = 0.5 0.5
				energy = 0.0 0.5
				energy = 0.5 0.5
				localScale = 1.3,1.3,1.3
				//localPosition = 0,0,1.8
			}

			MODEL_MULTI_PARTICLE
			{
				name = shock
				modelName = Bluedog_DB/FX/PlumeParty/Engines/Tundra/keroSLMach1
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.01 0.1
				emission = 1.0 2.0
				speed = 0.0 0.5
				speed = 0.5 0.5
				energy = 0.0 0.5
				energy = 1.0 1.0
				localScale = 1.3,1.3,1.3
				//localPosition = 0,0,1.8
			}
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 0.25
				pitch = 0.5
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 0.25
				pitch = 0.8
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
				localScale = 1.3,1.3,1.3
				//localOffset = 0,0,1.8
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 0.25
				pitch = 0.8
				loop = false
			}
		}
	}

	MODULE
	{
		name = ModuleEnginesFX
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 71.5
		heatProduction = 192
		EngineType = LiquidFuel
		runningEffectName = running_engine

		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
		}
		atmosphereCurve
		{
			key = 0 292
			key = 1 261
			key = 7 0.001

		}
	}

	MODULE
	{
        name = FXModuleAnimateThrottle
        animationName = E1_Heat_Anim
        dependOnEngineState = True
        responseSpeed = 0.001
	}

	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = 7
		}
	}

	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 0
		fxMax = 0.5
		maxDistance = 30
		falloff = 1.5
		thrustTransformName = thrustTransform
	}
	RESOURCE
	{
		 name = MonoPropellant
		 amount = 100
		 maxAmount = 100
	}	
	RESOURCE
	{
		 name = LiquidFuel
		 amount = 360
		 maxAmount = 360
	}	
	RESOURCE
	{
		 name = Oxidizer
		 amount = 440
		 maxAmount = 440
	}	
	RESOURCE
	{
		name = ElectricCharge
		amount = 200
		maxAmount = 200
	}	
	RESOURCE
	{
		name = Food
		amount = 113.2
		maxAmount = 113.2
	}
	RESOURCE
	{
		name = Water
		amount = 74.8
		maxAmount = 74.8
	}
	RESOURCE
	{
		name = Oxygen
		amount = 11466.9
		maxAmount = 11466.9
	}
	RESOURCE
	{
		name = CarbonDioxide
		amount = 0
		maxAmount = 18800.1
	}
	RESOURCE
	{
		name = WasteWater
		amount = 0
		maxAmount = 180.9
	}
	RESOURCE
	{
		name = Waste
		amount = 0
		maxAmount = 19.5
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalResponseSpeed = 15
		useGimbalResponseSpeed = true
		gimbalTransformName = gimbalTransform
		gimbalRange = 6
	}

	MODULE
	{

		name = FXModuleLookAtConstraint

		CONSTRAINLOOKFX
		{
		targetName = gimbalBone1
		rotatorsName = gimbalArm1_1
		}
		CONSTRAINLOOKFX
		{
		targetName = gimbalBone1
		rotatorsName = gimbalArm1_2
		}
		CONSTRAINLOOKFX
		{
		targetName = gimbalBone2
		rotatorsName = gimbalArm2_1
		}
		CONSTRAINLOOKFX
		{
		targetName = gimbalBone2
		rotatorsName = gimbalArm2_2
		}

	}
}
	